import { Action, createReducer, on } from "@ngrx/store";
import { GetLocationInfo } from "src/app/shared/models/weather/geo-location.model";
import { WeatherModels } from "src/app/shared/models/weather/weather.model";
import * as actionsWeather from "./weather.action";

export interface WeatherFeatureState {
  cityGeoInfos: GetLocationInfo[];
  searchedCityText: string;
  fetchedCityInfo: WeatherModels.GetWeatherInfoWithCoordinates;
  requestedCityInfo: GetLocationInfo;
  unit: string;
}
export const initialState: Partial<WeatherFeatureState> = {
  unit: "metric",
  fetchedCityInfo: {
    cityName: "Eindhoven",
    lat: 51.4333,
    lon: 5.4667,
    timezone: "Europe/Amsterdam",
    timezone_offset: 7200,
    current: {
      dt: 1634406032,
      sunrise: 1634364215,
      sunset: 1634402605,
      temp: 8.92,
      feels_like: 8.92,
      pressure: 1020,
      humidity: 80,
      dew_point: 5.66,
      uvi: 0,
      clouds: 90,
      visibility: 10000,
      wind_speed: 0.51,
      wind_deg: 0,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
    },
    hourly: [
      {
        dt: 1634403600,
        temp: 9.14,
        feels_like: 9.14,
        pressure: 1020,
        humidity: 76,
        dew_point: 5.14,
        uvi: 0,
        clouds: 86,
        visibility: 10000,
        wind_speed: 1.31,
        wind_deg: 281,
        wind_gust: 1.75,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634407200,
        temp: 8.92,
        feels_like: 8.92,
        pressure: 1020,
        humidity: 80,
        dew_point: 5.66,
        uvi: 0,
        clouds: 90,
        visibility: 10000,
        wind_speed: 1.21,
        wind_deg: 184,
        wind_gust: 1.48,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634410800,
        temp: 8.92,
        feels_like: 8.36,
        pressure: 1020,
        humidity: 77,
        dew_point: 5.11,
        uvi: 0,
        clouds: 81,
        visibility: 10000,
        wind_speed: 1.55,
        wind_deg: 188,
        wind_gust: 1.56,
        weather: [
          {
            id: 803,
            main: "Clouds",
            description: "broken clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634414400,
        temp: 8.81,
        feels_like: 8.24,
        pressure: 1020,
        humidity: 74,
        dew_point: 4.44,
        uvi: 0,
        clouds: 83,
        visibility: 10000,
        wind_speed: 1.55,
        wind_deg: 217,
        wind_gust: 1.57,
        weather: [
          {
            id: 803,
            main: "Clouds",
            description: "broken clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634418000,
        temp: 8.54,
        feels_like: 7.78,
        pressure: 1021,
        humidity: 72,
        dew_point: 3.79,
        uvi: 0,
        clouds: 85,
        visibility: 10000,
        wind_speed: 1.69,
        wind_deg: 215,
        wind_gust: 1.73,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634421600,
        temp: 8.15,
        feels_like: 7.01,
        pressure: 1021,
        humidity: 72,
        dew_point: 3.41,
        uvi: 0,
        clouds: 87,
        visibility: 10000,
        wind_speed: 2.03,
        wind_deg: 202,
        wind_gust: 2.39,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634425200,
        temp: 7.71,
        feels_like: 6.52,
        pressure: 1021,
        humidity: 72,
        dew_point: 3,
        uvi: 0,
        clouds: 89,
        visibility: 10000,
        wind_speed: 2.01,
        wind_deg: 210,
        wind_gust: 2.42,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634428800,
        temp: 7.28,
        feels_like: 6.06,
        pressure: 1021,
        humidity: 74,
        dew_point: 3,
        uvi: 0,
        clouds: 90,
        visibility: 10000,
        wind_speed: 1.96,
        wind_deg: 206,
        wind_gust: 2.28,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634432400,
        temp: 6.99,
        feels_like: 5.8,
        pressure: 1021,
        humidity: 76,
        dew_point: 3.05,
        uvi: 0,
        clouds: 89,
        visibility: 10000,
        wind_speed: 1.88,
        wind_deg: 209,
        wind_gust: 1.9,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634436000,
        temp: 7.1,
        feels_like: 5.69,
        pressure: 1020,
        humidity: 75,
        dew_point: 3.04,
        uvi: 0,
        clouds: 95,
        visibility: 10000,
        wind_speed: 2.14,
        wind_deg: 201,
        wind_gust: 2.54,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634439600,
        temp: 6.88,
        feels_like: 5.38,
        pressure: 1020,
        humidity: 77,
        dew_point: 3.03,
        uvi: 0,
        clouds: 96,
        visibility: 10000,
        wind_speed: 2.2,
        wind_deg: 200,
        wind_gust: 2.65,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634443200,
        temp: 6.57,
        feels_like: 4.93,
        pressure: 1020,
        humidity: 78,
        dew_point: 3.01,
        uvi: 0,
        clouds: 94,
        visibility: 10000,
        wind_speed: 2.3,
        wind_deg: 186,
        wind_gust: 2.81,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634446800,
        temp: 6.65,
        feels_like: 5.04,
        pressure: 1020,
        humidity: 78,
        dew_point: 3.1,
        uvi: 0,
        clouds: 95,
        visibility: 10000,
        wind_speed: 2.28,
        wind_deg: 182,
        wind_gust: 3.41,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634450400,
        temp: 7.41,
        feels_like: 5.84,
        pressure: 1020,
        humidity: 75,
        dew_point: 3.15,
        uvi: 0,
        clouds: 96,
        visibility: 10000,
        wind_speed: 2.39,
        wind_deg: 181,
        wind_gust: 4.15,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634454000,
        temp: 8.12,
        feels_like: 6.64,
        pressure: 1020,
        humidity: 72,
        dew_point: 3.34,
        uvi: 0,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.44,
        wind_deg: 178,
        wind_gust: 4.94,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634457600,
        temp: 8.98,
        feels_like: 7.63,
        pressure: 1021,
        humidity: 69,
        dew_point: 3.64,
        uvi: 0.31,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.48,
        wind_deg: 186,
        wind_gust: 4.75,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634461200,
        temp: 9.88,
        feels_like: 8.62,
        pressure: 1021,
        humidity: 66,
        dew_point: 3.88,
        uvi: 0.71,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.59,
        wind_deg: 189,
        wind_gust: 4.38,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634464800,
        temp: 11.12,
        feels_like: 9.91,
        pressure: 1021,
        humidity: 62,
        dew_point: 4.07,
        uvi: 1.17,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.63,
        wind_deg: 188,
        wind_gust: 4.19,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634468400,
        temp: 12.75,
        feels_like: 11.54,
        pressure: 1021,
        humidity: 56,
        dew_point: 4.23,
        uvi: 1.52,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.77,
        wind_deg: 194,
        wind_gust: 3.95,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634472000,
        temp: 13.82,
        feels_like: 12.64,
        pressure: 1020,
        humidity: 53,
        dew_point: 4.35,
        uvi: 1.57,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.71,
        wind_deg: 195,
        wind_gust: 3.79,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634475600,
        temp: 14.29,
        feels_like: 13.13,
        pressure: 1020,
        humidity: 52,
        dew_point: 4.6,
        uvi: 0.97,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.67,
        wind_deg: 209,
        wind_gust: 3.8,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634479200,
        temp: 14.09,
        feels_like: 12.99,
        pressure: 1019,
        humidity: 55,
        dew_point: 5.29,
        uvi: 0.64,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.21,
        wind_deg: 208,
        wind_gust: 3.6,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634482800,
        temp: 13.48,
        feels_like: 12.45,
        pressure: 1019,
        humidity: 60,
        dew_point: 5.92,
        uvi: 0.31,
        clouds: 100,
        visibility: 10000,
        wind_speed: 1.69,
        wind_deg: 215,
        wind_gust: 2.9,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634486400,
        temp: 12.51,
        feels_like: 11.46,
        pressure: 1020,
        humidity: 63,
        dew_point: 5.67,
        uvi: 0.05,
        clouds: 100,
        visibility: 10000,
        wind_speed: 1.71,
        wind_deg: 202,
        wind_gust: 2.01,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634490000,
        temp: 11.89,
        feels_like: 10.81,
        pressure: 1020,
        humidity: 64,
        dew_point: 5.34,
        uvi: 0,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.04,
        wind_deg: 188,
        wind_gust: 2.42,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634493600,
        temp: 11.75,
        feels_like: 10.68,
        pressure: 1020,
        humidity: 65,
        dew_point: 5.41,
        uvi: 0,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.43,
        wind_deg: 169,
        wind_gust: 3.5,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634497200,
        temp: 11.62,
        feels_like: 10.56,
        pressure: 1020,
        humidity: 66,
        dew_point: 5.44,
        uvi: 0,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.63,
        wind_deg: 179,
        wind_gust: 5.02,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634500800,
        temp: 10.94,
        feels_like: 9.87,
        pressure: 1021,
        humidity: 68,
        dew_point: 5.39,
        uvi: 0,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.35,
        wind_deg: 184,
        wind_gust: 4.16,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634504400,
        temp: 9.95,
        feels_like: 8.78,
        pressure: 1021,
        humidity: 72,
        dew_point: 5.2,
        uvi: 0,
        clouds: 98,
        visibility: 10000,
        wind_speed: 2.47,
        wind_deg: 186,
        wind_gust: 3.75,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634508000,
        temp: 10,
        feels_like: 8.71,
        pressure: 1020,
        humidity: 72,
        dew_point: 5.02,
        uvi: 0,
        clouds: 98,
        visibility: 10000,
        wind_speed: 2.68,
        wind_deg: 178,
        wind_gust: 4.78,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634511600,
        temp: 9.93,
        feels_like: 8.73,
        pressure: 1021,
        humidity: 72,
        dew_point: 5.01,
        uvi: 0,
        clouds: 87,
        visibility: 10000,
        wind_speed: 2.51,
        wind_deg: 195,
        wind_gust: 4.65,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634515200,
        temp: 10.67,
        feels_like: 9.59,
        pressure: 1021,
        humidity: 69,
        dew_point: 5.08,
        uvi: 0,
        clouds: 89,
        visibility: 10000,
        wind_speed: 2.27,
        wind_deg: 193,
        wind_gust: 5.21,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634518800,
        temp: 9.92,
        feels_like: 9,
        pressure: 1021,
        humidity: 72,
        dew_point: 5.12,
        uvi: 0,
        clouds: 76,
        visibility: 10000,
        wind_speed: 2.13,
        wind_deg: 189,
        wind_gust: 3.5,
        weather: [
          {
            id: 803,
            main: "Clouds",
            description: "broken clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634522400,
        temp: 9.46,
        feels_like: 8.27,
        pressure: 1021,
        humidity: 75,
        dew_point: 5.23,
        uvi: 0,
        clouds: 57,
        visibility: 10000,
        wind_speed: 2.38,
        wind_deg: 186,
        wind_gust: 3.35,
        weather: [
          {
            id: 803,
            main: "Clouds",
            description: "broken clouds",
            icon: "04n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634526000,
        temp: 8.92,
        feels_like: 7.56,
        pressure: 1021,
        humidity: 78,
        dew_point: 5.18,
        uvi: 0,
        clouds: 40,
        visibility: 10000,
        wind_speed: 2.48,
        wind_deg: 189,
        wind_gust: 3.67,
        weather: [
          {
            id: 802,
            main: "Clouds",
            description: "scattered clouds",
            icon: "03n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634529600,
        temp: 8.54,
        feels_like: 7.15,
        pressure: 1021,
        humidity: 79,
        dew_point: 5.07,
        uvi: 0,
        clouds: 32,
        visibility: 10000,
        wind_speed: 2.43,
        wind_deg: 189,
        wind_gust: 3.55,
        weather: [
          {
            id: 802,
            main: "Clouds",
            description: "scattered clouds",
            icon: "03n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634533200,
        temp: 8.27,
        feels_like: 6.67,
        pressure: 1021,
        humidity: 79,
        dew_point: 4.86,
        uvi: 0,
        clouds: 27,
        visibility: 10000,
        wind_speed: 2.65,
        wind_deg: 176,
        wind_gust: 3.84,
        weather: [
          {
            id: 802,
            main: "Clouds",
            description: "scattered clouds",
            icon: "03n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634536800,
        temp: 7.92,
        feels_like: 6.24,
        pressure: 1021,
        humidity: 79,
        dew_point: 4.52,
        uvi: 0,
        clouds: 25,
        visibility: 10000,
        wind_speed: 2.67,
        wind_deg: 182,
        wind_gust: 4.73,
        weather: [
          {
            id: 802,
            main: "Clouds",
            description: "scattered clouds",
            icon: "03n",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634540400,
        temp: 8.53,
        feels_like: 7.13,
        pressure: 1022,
        humidity: 76,
        dew_point: 4.55,
        uvi: 0,
        clouds: 96,
        visibility: 10000,
        wind_speed: 2.44,
        wind_deg: 181,
        wind_gust: 4.95,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634544000,
        temp: 10.36,
        feels_like: 9.23,
        pressure: 1022,
        humidity: 68,
        dew_point: 4.64,
        uvi: 0.34,
        clouds: 87,
        visibility: 10000,
        wind_speed: 2.91,
        wind_deg: 177,
        wind_gust: 5.51,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634547600,
        temp: 11.98,
        feels_like: 10.83,
        pressure: 1022,
        humidity: 61,
        dew_point: 4.58,
        uvi: 0.8,
        clouds: 91,
        visibility: 10000,
        wind_speed: 2.98,
        wind_deg: 191,
        wind_gust: 5.05,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634551200,
        temp: 13.49,
        feels_like: 12.33,
        pressure: 1022,
        humidity: 55,
        dew_point: 4.64,
        uvi: 1.12,
        clouds: 93,
        visibility: 10000,
        wind_speed: 3.28,
        wind_deg: 184,
        wind_gust: 5.12,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634554800,
        temp: 14.53,
        feels_like: 13.4,
        pressure: 1021,
        humidity: 52,
        dew_point: 4.77,
        uvi: 1.45,
        clouds: 95,
        visibility: 10000,
        wind_speed: 3.6,
        wind_deg: 175,
        wind_gust: 5.53,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634558400,
        temp: 15.23,
        feels_like: 14.11,
        pressure: 1021,
        humidity: 50,
        dew_point: 5,
        uvi: 1.5,
        clouds: 96,
        visibility: 10000,
        wind_speed: 3.38,
        wind_deg: 188,
        wind_gust: 5.19,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634562000,
        temp: 15.44,
        feels_like: 14.4,
        pressure: 1021,
        humidity: 52,
        dew_point: 5.66,
        uvi: 1.17,
        clouds: 100,
        visibility: 10000,
        wind_speed: 3.15,
        wind_deg: 184,
        wind_gust: 5.55,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634565600,
        temp: 15.57,
        feels_like: 14.62,
        pressure: 1021,
        humidity: 55,
        dew_point: 6.63,
        uvi: 0.77,
        clouds: 100,
        visibility: 10000,
        wind_speed: 3.03,
        wind_deg: 182,
        wind_gust: 5.82,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634569200,
        temp: 14.95,
        feels_like: 14.09,
        pressure: 1020,
        humidity: 61,
        dew_point: 7.47,
        uvi: 0.37,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.82,
        wind_deg: 178,
        wind_gust: 6.23,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
      {
        dt: 1634572800,
        temp: 13.89,
        feels_like: 13.08,
        pressure: 1020,
        humidity: 67,
        dew_point: 7.82,
        uvi: 0.13,
        clouds: 100,
        visibility: 10000,
        wind_speed: 2.65,
        wind_deg: 168,
        wind_gust: 5.28,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        pop: 0,
      },
    ],
    daily: [
      {
        dt: 1634382000,
        sunrise: 1634364215,
        sunset: 1634402605,
        moonrise: 1634399520,
        moonset: 1634344920,
        moon_phase: 0.36,
        temp: {
          day: 12.88,
          min: 5.96,
          max: 13.52,
          night: 8.54,
          eve: 9.14,
          morn: 6.16,
        },
        feels_like: { day: 11.58, night: 7.78, eve: 9.14, morn: 6.16 },
        pressure: 1023,
        humidity: 52,
        dew_point: 3.16,
        wind_speed: 2.16,
        wind_deg: 282,
        wind_gust: 2.68,
        weather: [
          { id: 800, main: "Clear", description: "clear sky", icon: "01d" },
        ],
        clouds: 8,
        pop: 0,
        uvi: 1.94,
      },
      {
        dt: 1634468400,
        sunrise: 1634450718,
        sunset: 1634488878,
        moonrise: 1634486880,
        moonset: 1634436000,
        moon_phase: 0.4,
        temp: {
          day: 12.75,
          min: 6.57,
          max: 14.29,
          night: 9.95,
          eve: 11.89,
          morn: 6.65,
        },
        feels_like: { day: 11.54, night: 8.78, eve: 10.81, morn: 5.04 },
        pressure: 1021,
        humidity: 56,
        dew_point: 4.23,
        wind_speed: 2.77,
        wind_deg: 194,
        wind_gust: 5.02,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        clouds: 100,
        pop: 0,
        uvi: 1.57,
      },
      {
        dt: 1634554800,
        sunrise: 1634537220,
        sunset: 1634575152,
        moonrise: 1634574120,
        moonset: 1634526900,
        moon_phase: 0.43,
        temp: {
          day: 14.53,
          min: 7.92,
          max: 15.57,
          night: 11.37,
          eve: 12.61,
          morn: 8.27,
        },
        feels_like: { day: 13.4, night: 10.65, eve: 11.83, morn: 6.67 },
        pressure: 1021,
        humidity: 52,
        dew_point: 4.77,
        wind_speed: 3.6,
        wind_deg: 175,
        wind_gust: 7.95,
        weather: [
          {
            id: 804,
            main: "Clouds",
            description: "overcast clouds",
            icon: "04d",
          },
        ],
        clouds: 95,
        pop: 0,
        uvi: 1.5,
      },
      {
        dt: 1634641200,
        sunrise: 1634623723,
        sunset: 1634661427,
        moonrise: 1634661360,
        moonset: 1634617680,
        moon_phase: 0.46,
        temp: {
          day: 13.9,
          min: 11.34,
          max: 15.95,
          night: 15.51,
          eve: 15.83,
          morn: 13.52,
        },
        feels_like: { day: 13.8, night: 15.44, eve: 15.87, morn: 12.68 },
        pressure: 1016,
        humidity: 94,
        dew_point: 12.93,
        wind_speed: 6.61,
        wind_deg: 209,
        wind_gust: 16.88,
        weather: [
          { id: 500, main: "Rain", description: "light rain", icon: "10d" },
        ],
        clouds: 100,
        pop: 1,
        rain: 1.38,
        uvi: 1.43,
      },
      {
        dt: 1634727600,
        sunrise: 1634710227,
        sunset: 1634747703,
        moonrise: 1634748540,
        moonset: 1634708400,
        moon_phase: 0.5,
        temp: {
          day: 17.65,
          min: 12.95,
          max: 17.65,
          night: 13.24,
          eve: 12.95,
          morn: 16.3,
        },
        feels_like: { day: 17.48, night: 12.47, eve: 12.29, morn: 16 },
        pressure: 1002,
        humidity: 77,
        dew_point: 13.68,
        wind_speed: 10.15,
        wind_deg: 207,
        wind_gust: 19.44,
        weather: [
          { id: 501, main: "Rain", description: "moderate rain", icon: "10d" },
        ],
        clouds: 95,
        pop: 1,
        rain: 8.35,
        uvi: 0.29,
      },
      {
        dt: 1634814000,
        sunrise: 1634796730,
        sunset: 1634833980,
        moonrise: 1634835840,
        moonset: 1634799060,
        moon_phase: 0.52,
        temp: {
          day: 13.81,
          min: 10.62,
          max: 13.81,
          night: 10.62,
          eve: 11.41,
          morn: 11.15,
        },
        feels_like: { day: 12.89, night: 9.83, eve: 10.7, morn: 10.23 },
        pressure: 1004,
        humidity: 63,
        dew_point: 6.79,
        wind_speed: 13.45,
        wind_deg: 220,
        wind_gust: 23.58,
        weather: [
          { id: 500, main: "Rain", description: "light rain", icon: "10d" },
        ],
        clouds: 97,
        pop: 0.67,
        rain: 2.14,
        uvi: 1,
      },
      {
        dt: 1634900400,
        sunrise: 1634883234,
        sunset: 1634920258,
        moonrise: 1634923320,
        moonset: 1634889720,
        moon_phase: 0.56,
        temp: {
          day: 9.17,
          min: 6.36,
          max: 11.53,
          night: 6.36,
          eve: 7.62,
          morn: 9.28,
        },
        feels_like: { day: 6.42, night: 3.74, eve: 4.88, morn: 7.76 },
        pressure: 1008,
        humidity: 78,
        dew_point: 5.54,
        wind_speed: 5.56,
        wind_deg: 201,
        wind_gust: 11.98,
        weather: [
          { id: 501, main: "Rain", description: "moderate rain", icon: "10d" },
        ],
        clouds: 100,
        pop: 1,
        rain: 7.61,
        uvi: 1,
      },
      {
        dt: 1634986800,
        sunrise: 1634969739,
        sunset: 1635006537,
        moonrise: 1635011040,
        moonset: 1634980380,
        moon_phase: 0.59,
        temp: {
          day: 11.67,
          min: 4.42,
          max: 11.67,
          night: 6.48,
          eve: 7.67,
          morn: 4.42,
        },
        feels_like: { day: 10.28, night: 5.09, eve: 7.67, morn: 2.02 },
        pressure: 1023,
        humidity: 53,
        dew_point: 2.3,
        wind_speed: 3.36,
        wind_deg: 282,
        wind_gust: 7.36,
        weather: [
          { id: 500, main: "Rain", description: "light rain", icon: "10d" },
        ],
        clouds: 9,
        pop: 0.66,
        rain: 0.31,
        uvi: 1,
      },
    ],
  },
};

const _weatherReducer = createReducer<any, Action>(
  initialState,
  on(
    actionsWeather.searchCitySuccess,
    (state: WeatherFeatureState, { data }) => ({
      ...state,
      cityGeoInfos: data,
    })
  ),
  on(
    actionsWeather.searchCity,
    (state: WeatherFeatureState, { searchText }) => {
      if (searchText.length == 0) {
        return { ...state, searchedCityText: "", cityGeoInfos: [] };
      } else {
        return {
          ...state,
          searchedCityText: searchText,
        };
      }
    }
  ),

  on(
    actionsWeather.fetchWeatherInfo,
    (state: WeatherFeatureState, { cityInfo }) => {
      return { ...state, requestedCityInfo: cityInfo };
    }
  ),

  on(
    actionsWeather.fetchWeatherInfoSuccess,
    (state: WeatherFeatureState, { data }) => {
      return { ...state, fetchedCityInfo: data };
    }
  ),

  on(
    actionsWeather.sortDailyForecastData,
    (state: WeatherFeatureState, { data }) => {
      let direction = data.direction == "asc" ? 1 : -1;
      let newDaily = [...state.fetchedCityInfo.daily];
      newDaily = newDaily.sort((a, b) => {
        return (a.dt - b.dt) * direction;
      });
      return {
        ...state,
        fetchedCityInfo: {
          ...state.fetchedCityInfo,
          daily: [...newDaily],
        },
      };
    }
  ),

  on(
    actionsWeather.sortHourlyForecastData,
    (state: WeatherFeatureState, { data }) => {
      let direction = data.direction == "asc" ? 1 : -1;
      let newHourly = [...(state.fetchedCityInfo?.hourly || [])];
      newHourly = newHourly.sort((a, b) => {
        return (a.dt - b.dt) * direction;
      });
      return {
        ...state,
        fetchedCityInfo: {
          ...state.fetchedCityInfo,
          hourly: [...newHourly],
        },
      };
    }
  )
);

export function weatherReducer(state: WeatherFeatureState, action: Action) {
  return _weatherReducer(state, action);
}
